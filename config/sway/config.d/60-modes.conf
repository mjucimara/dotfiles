# ====== MODO LEITURA ======
# Responsabilidade: gerenciar bindings do modo leitura
# Escopo: estado visual é externo (script).

mode "reading" {

    # Saída canônica garantida
    bindsym Escape exec ~/.config/sway/scripts/modes/reading.sh --disable; mode "default"

    # Navegação preserva memória muscular
    bindsym h focus left
    bindsym j focus down
    bindsym k focus up
    bindsym l focus right

    # Reaplica estado visual (idempotente)
    bindsym r exec ~/.config/sway/scripts/modes/reading.sh --enable
}

# Entrada no modo leitura
bindsym $mod+Shift+m exec ~/.config/sway/scripts/modes/reading.sh --enable && swaymsg mode reading
